{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Calendar MCP Server","text":"<p>Calendar MCP is a Model Context Protocol (MCP) server for iCalendar feed management and event queries. It lets MCP clients like Claude Desktop work with multiple calendar feeds for event tracking, conflict detection, and schedule management.</p> <p>Use this documentation to:</p> <ul> <li>Understand what the server does and how it is structured</li> <li>Get started running it locally or via Docker</li> <li>Configure environment variables and calendar feeds</li> <li>See what kinds of tools and queries are available</li> </ul> <p>For architectural details aimed at agents and contributors, see <code>AGENTS.md</code> in the repository root.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>The Calendar MCP server is configured primarily via environment variables.</p>"},{"location":"configuration/#core-settings","title":"Core Settings","text":"<ul> <li><code>ICAL_FEED_CONFIGS</code> (required) \u2013 JSON array of calendar feeds:</li> </ul> <p><code>json   [     {       \"name\": \"Work\",       \"url\": \"https://calendar.google.com/calendar/ical/YOUR_ID/basic.ics\"     },     {       \"name\": \"Personal\",       \"url\": \"https://outlook.office365.com/owa/calendar/YOUR_ID/calendar.ics\"     }   ]</code></p> <ul> <li><code>TIMEZONE</code> \u2013 IANA timezone name (default: <code>UTC</code>)</li> <li><code>REFRESH_INTERVAL</code> \u2013 Minutes between refreshes (default: <code>60</code>)</li> <li><code>DEBUG</code> \u2013 Enable debug logging (<code>true</code> / <code>false</code>, default: <code>false</code>)</li> </ul>"},{"location":"configuration/#http-mode","title":"HTTP Mode","text":"<p>Used by <code>src/server_remote.py</code> for remote access:</p> <ul> <li><code>MCP_API_KEY</code> \u2013 API key for authentication (strongly recommended)</li> <li><code>MD5_SALT</code> \u2013 Salt for MD5 hash (optional, recommended)</li> <li><code>HOST</code> \u2013 Bind address (default: <code>0.0.0.0</code>)</li> <li><code>PORT</code> \u2013 Listen port (default: <code>80</code>)</li> </ul> <p>The HTTP MCP endpoint has the form:</p> <pre><code>https://your-domain.com/app/{API_KEY}/{API_KEY_HASH}/mcp\n</code></pre> <p>where <code>API_KEY_HASH</code> is calculated as:</p> <ul> <li><code>MD5(MD5_SALT + API_KEY)</code> when <code>MD5_SALT</code> is set, or</li> <li><code>MD5(API_KEY)</code> in legacy mode.</li> </ul>"},{"location":"configuration/#redis-cache-optional","title":"Redis Cache (Optional)","text":"<p>If you enable Redis caching via <code>RedisCache</code>:</p> <ul> <li><code>REDIS_HOST</code> \u2013 Redis hostname</li> <li><code>REDIS_SSL_PORT</code> \u2013 Redis SSL port (default: <code>6380</code>)</li> <li><code>REDIS_KEY</code> \u2013 Redis access key</li> </ul> <p>When configured, the calendar service will use Redis for caching parsed events and other data to improve performance.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide shows how to run the Calendar MCP server and connect it to MCP clients.</p>"},{"location":"getting-started/#quick-start-with-docker","title":"Quick Start with Docker","text":"<p>For production HTTP access:</p> <pre><code>cp .env.example .env.local\n# Edit .env.local: set ICAL_FEED_CONFIGS and MCP_API_KEY\n\ndocker-compose up --build\n</code></pre> <p>After the container is running, you can calculate your MCP endpoint URLs:</p> <pre><code>python scripts/verify_auth.py --api-key YOUR_KEY --domain localhost:8080 --no-https\n</code></pre> <p>Key endpoints:</p> <ul> <li>Health: <code>http://localhost:8080/app/health</code></li> <li>MCP: <code>http://localhost:8080/app/{API_KEY}/{API_KEY_HASH}/mcp</code></li> </ul>"},{"location":"getting-started/#local-development-without-docker","title":"Local Development (without Docker)","text":"<ol> <li>Create a virtual environment:</li> </ol> <p><code>bash    python -m venv venv    source venv/bin/activate  # On Windows: venv\\Scripts\\activate</code></p> <ol> <li>Install dependencies:</li> </ol> <p><code>bash    pip install -r requirements.txt</code></p> <ol> <li>Set environment variables (at minimum <code>ICAL_FEED_CONFIGS</code>):</li> </ol> <p><code>bash    export ICAL_FEED_CONFIGS='[{\"name\":\"Work\",\"url\":\"https://...\"}]'</code></p> <ol> <li>Run the MCP server (stdio transport):</li> </ol> <p><code>bash    python src/server.py</code></p> <p>For HTTP mode, use <code>src/server_remote.py</code> instead and configure <code>MCP_API_KEY</code>, <code>HOST</code>, and <code>PORT</code>.</p>"},{"location":"tools/","title":"MCP Tools","text":"<p>The Calendar MCP server exposes a set of MCP tools for working with calendar data and cache management.</p> <p>High-level categories include:</p> <ul> <li>Calendar queries \u2013 Get events for today, upcoming events, and date/range-based queries</li> <li>Service status \u2013 Inspect server and calendar service status</li> <li>Configuration \u2013 View non-sensitive configuration values</li> <li>Cache management \u2013 Inspect and manage Redis cache statistics and contents</li> </ul> <p>Refer to:</p> <ul> <li><code>src/server.py</code> for server-level tools such as:</li> <li><code>get_current_datetime</code></li> <li><code>get_server_status</code></li> <li><code>get_server_config</code></li> <li><code>get_cache_stats</code></li> <li><code>clear_cache</code></li> <li><code>get_cache_info</code></li> <li><code>reset_cache_stats</code></li> <li><code>src/services/ical.py</code> for calendar-specific operations implemented by <code>MultiCalendarService</code></li> </ul> <p>For detailed design notes intended for AI agents and contributors, see <code>AGENTS.md</code> in the repository root.</p>"}]}